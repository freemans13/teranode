
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../services/utxoPersister/">
      
      
        <link rel="next" href="../utxo/">
      
      
      <link rel="icon" href="../../architecture/img/bsvblockchain_blue_logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>Blob Store - Teranode</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../overrides/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blob-server" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Teranode" class="md-header__button md-logo" aria-label="Teranode" data-md-component="logo">
      
  <img src="../../architecture/img/bsvblockchain_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Teranode
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Blob Store
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tutorials/developers/developerSetup/" class="md-tabs__link">
          
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../howto/locallyRunningServices/" class="md-tabs__link">
          
  
  How-To Guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../teranodeIntro/" class="md-tabs__link">
          
  
  Key Topics

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../references/projectStructure/" class="md-tabs__link">
          
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Teranode" class="md-nav__button md-logo" aria-label="Teranode" data-md-component="logo">
      
  <img src="../../architecture/img/bsvblockchain_logo.svg" alt="logo">

    </a>
    Teranode
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/developers/developerSetup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/miners/minersGettingStarted/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Miners Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-To Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            How-To Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/locallyRunningServices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Services Locally
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/howToRemoteDebugTeranode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging Teranode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/generatingProtobuf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating Protobuf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/addingNewProtobufServices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding Protobuf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/configuringGrpcLogging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring gRPC Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/runningTests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/automatedTestingHowTo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automated Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/makefile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Makefile Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/bugReporting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bug Reporting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/developersHowToTeranodeCLI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer's Guide to Teranode-CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11" >
        
          
          <label class="md-nav__link" for="__nav_3_11" id="__nav_3_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Miners
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11">
            <span class="md-nav__icon md-icon"></span>
            Miners
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/howToUseTheTestMiner.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Test Miner
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_2" >
        
          
          <label class="md-nav__link" for="__nav_3_11_2" id="__nav_3_11_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_2">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/docker/minersHowToInstallation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersHowToInstallation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersHowToInstallationDeprecated/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deprecated
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_3" >
        
          
          <label class="md-nav__link" for="__nav_3_11_3" id="__nav_3_11_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_3">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/docker/minersHowToConfigureTheNode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersHowToConfigureTheNode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToAerospikeTuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aerospike Tuning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToInteractWithAssetServer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asset Server Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToInteractWithFSM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FSM Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToInteractWithRPCServer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPC Server Interaction
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_4" >
        
          
          <label class="md-nav__link" for="__nav_3_11_4" id="__nav_3_11_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Start/Stop
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_4">
            <span class="md-nav__icon md-icon"></span>
            Start/Stop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/docker/minersHowToStopStartDockerTeranode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersHowToStopStartKubernetesTeranode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_5" >
        
          
          <label class="md-nav__link" for="__nav_3_11_5" id="__nav_3_11_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Updating Teranode
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_5">
            <span class="md-nav__icon md-icon"></span>
            Updating Teranode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/docker/minersUpdatingTeranode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersUpdatingTeranode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_6" >
        
          
          <label class="md-nav__link" for="__nav_3_11_6" id="__nav_3_11_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Security Best Practices
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_6">
            <span class="md-nav__icon md-icon"></span>
            Security Best Practices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/docker/minersSecurityBestPractices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersSecurityBestPractices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_7" >
        
          
          <label class="md-nav__link" for="__nav_3_11_7" id="__nav_3_11_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Troubleshooting
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_7">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/docker/minersHowToTroubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersHowToTroubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_11_8" >
        
          
          <label class="md-nav__link" for="__nav_3_11_8" id="__nav_3_11_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Additional
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_11_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_11_8">
            <span class="md-nav__icon md-icon"></span>
            Additional
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToCPUMiner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CPU Mining Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToResetTeranode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reset Teranode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToSyncTheNode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sync the Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersHowToTeranodeCLI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teranode CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/minersManagingDiskSpace/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Disk Space
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/miners/kubernetes/minersHowToBackup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backup (Kubernetes)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Key Topics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Key Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../teranodeIntro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teranode Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/teranode-overall-system-design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/teranode-architecture-brief/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Brief
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/teranode-microservices-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microservices Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/stateManagement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/understandingDoubleSpends/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding Double Spends
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../technologyStack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Technology Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../understandingTheTestingFramework/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understanding the Testing Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functionalRequirementTests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functional Requirement Tests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_10" >
        
          
          <label class="md-nav__link" for="__nav_4_10" id="__nav_4_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_10">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../features/two_phase_commit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Two Phase Commit
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_11" >
        
          
          <label class="md-nav__link" for="__nav_4_11" id="__nav_4_11_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Core Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_11">
            <span class="md-nav__icon md-icon"></span>
            Core Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/alert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alert Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/assetServer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asset Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/blockAssembly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Assembly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/blockValidation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/blockchain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/propagation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Propagation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/subtreeValidation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtree Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/validator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_12" >
        
          
          <label class="md-nav__link" for="__nav_4_12" id="__nav_4_12_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Overlay Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12">
            <span class="md-nav__icon md-icon"></span>
            Overlay Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/blockPersister/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Persister
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/p2p/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    P2P
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/legacy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legacy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../services/utxoPersister/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UTXO Persister
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_13" checked>
        
          
          <label class="md-nav__link" for="__nav_4_13" id="__nav_4_13_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Stores
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_13">
            <span class="md-nav__icon md-icon"></span>
            Stores
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Blob Store
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Blob Store
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      Index
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-description" class="md-nav__link">
    <span class="md-ellipsis">
      1. Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      2. Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-technology" class="md-nav__link">
    <span class="md-ellipsis">
      3. Technology
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Technology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overview" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-store-options" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Store Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-concurrent-access-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Concurrent Access Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Concurrent Access Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Pattern:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-http-rest-api-server" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 HTTP REST API Server
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 HTTP REST API Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-http-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Supported HTTP Endpoints:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Example:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      4. Data Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      5. Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-asset-server-http-get-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Asset Server (HTTP): Get Transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-asset-server-http-get-subtrees" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Asset Server (HTTP): Get Subtrees
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-block-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Block Assembly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-block-validation" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Block Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-propagation-txstore-set" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 Propagation: TXStore Set()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-directory-structure-and-main-files" class="md-nav__link">
    <span class="md-ellipsis">
      6. Directory Structure and Main Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-locally-running-the-store" class="md-nav__link">
    <span class="md-ellipsis">
      7. Locally Running the store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      8. Configuration Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-url-format" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. URL Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-store-url-settings" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Store URL Settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2. Store URL Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#821-common-url-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.1. Common URL Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#822-file-backend-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.2. File Backend Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#823-s3-backend-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3. S3 Backend Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#824-http-backend-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.4. HTTP Backend Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-store-options" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Store Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-file-operation-options" class="md-nav__link">
    <span class="md-ellipsis">
      8.4. File Operation Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-tx-store-configuration-examples" class="md-nav__link">
    <span class="md-ellipsis">
      8.5. TX Store Configuration Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-subtree-store-configuration-examples" class="md-nav__link">
    <span class="md-ellipsis">
      8.6. SubTree Store Configuration Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#87-configuration-interactions" class="md-nav__link">
    <span class="md-ellipsis">
      8.7. Configuration Interactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.7. Configuration Interactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#871-storage-backend-selection" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.1. Storage Backend Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#872-batching-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.2. Batching Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#873-delete-at-height-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.3. Delete-At-Height Functionality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#874-block-height-retention" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.4. Block Height Retention
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-other-resources" class="md-nav__link">
    <span class="md-ellipsis">
      9. Other Resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utxo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UTXO Store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_14" id="__nav_4_14_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Data Model
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_14">
            <span class="md-nav__icon md-icon"></span>
            Data Model
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datamodel/block_data_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Data Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datamodel/block_header_data_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Header Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datamodel/subtree_data_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtree Data Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datamodel/transaction_data_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transaction Data Model
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datamodel/utxo_data_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UTXO Data Model
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_15" >
        
          
          <label class="md-nav__link" for="__nav_4_15" id="__nav_4_15_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Kafka
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_15">
            <span class="md-nav__icon md-icon"></span>
            Kafka
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../kafka/kafka/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kafka Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_16" >
        
          
          <label class="md-nav__link" for="__nav_4_16" id="__nav_4_16_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Commands
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_16">
            <span class="md-nav__icon md-icon"></span>
            Commands
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/chainIntegrity.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chain Integrity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/propagationBlaster.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Propagation Blaster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/seeder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Seeder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../commands/txBlaster.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TX Blaster
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/projectStructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API & Protobuf
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            API & Protobuf
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/errorHandling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Error Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/codingConventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coding Conventions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/kafkaMessageFormat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kafka Message Format
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/networkConsensusRules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Network Consensus Rules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_6" >
        
          
          <label class="md-nav__link" for="__nav_5_2_6" id="__nav_5_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protobuf API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_6">
            <span class="md-nav__icon md-icon"></span>
            Protobuf API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/alertProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alert Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/blockassemblyProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Assembly Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/blockchainProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/blockvalidationProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Validation Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/propagationProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Propagation Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/subtreevalidationProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtree Validation Proto
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/protobuf_docs/validatorProto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validator Proto
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Core Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/alert_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alert Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/asset_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Asset Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/blockassembly_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Assembly
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/blockvalidation_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/blockchain_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blockchain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/propagation_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Propagation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/subtreevalidation_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subtree Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/validator_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Overlay Services
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Overlay Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/blockpersister_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Block Persister
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/p2p_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    P2P
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/legacy_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    P2P Legacy Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/rpc_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/services/utxopersister_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UTXO Persister
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Stores
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Stores
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/stores/blob_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blob Store
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/stores/utxo_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UTXO Store
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Miscellaneous
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Miscellaneous
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/gitCommitSigningSetupGuide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Commit Signing Setup Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/licenseInformation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licensing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/prometheusMetrics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prometheus Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/teranodeDaemonReference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teranode Daemon Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/testingTechnicalReference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Technical Reference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/thirdPartySoftwareRequirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Third-Party Software Requirements
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      Index
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-description" class="md-nav__link">
    <span class="md-ellipsis">
      1. Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      2. Architecture
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-technology" class="md-nav__link">
    <span class="md-ellipsis">
      3. Technology
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Technology">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overview" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-store-options" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Store Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-concurrent-access-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Concurrent Access Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 Concurrent Access Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-features" class="md-nav__link">
    <span class="md-ellipsis">
      Key Features:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Pattern:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-http-rest-api-server" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 HTTP REST API Server
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 HTTP REST API Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-http-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      Supported HTTP Endpoints:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Example:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-data-model" class="md-nav__link">
    <span class="md-ellipsis">
      4. Data Model
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      5. Use Cases
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Use Cases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-asset-server-http-get-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      5.1. Asset Server (HTTP): Get Transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-asset-server-http-get-subtrees" class="md-nav__link">
    <span class="md-ellipsis">
      5.2. Asset Server (HTTP): Get Subtrees
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-block-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      5.3. Block Assembly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-block-validation" class="md-nav__link">
    <span class="md-ellipsis">
      5.4. Block Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-propagation-txstore-set" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 Propagation: TXStore Set()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-directory-structure-and-main-files" class="md-nav__link">
    <span class="md-ellipsis">
      6. Directory Structure and Main Files
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-locally-running-the-store" class="md-nav__link">
    <span class="md-ellipsis">
      7. Locally Running the store
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-configuration-options" class="md-nav__link">
    <span class="md-ellipsis">
      8. Configuration Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Configuration Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-url-format" class="md-nav__link">
    <span class="md-ellipsis">
      8.1. URL Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-store-url-settings" class="md-nav__link">
    <span class="md-ellipsis">
      8.2. Store URL Settings
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.2. Store URL Settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#821-common-url-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.1. Common URL Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#822-file-backend-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.2. File Backend Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#823-s3-backend-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.3. S3 Backend Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#824-http-backend-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      8.2.4. HTTP Backend Parameters
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-store-options" class="md-nav__link">
    <span class="md-ellipsis">
      8.3. Store Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-file-operation-options" class="md-nav__link">
    <span class="md-ellipsis">
      8.4. File Operation Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85-tx-store-configuration-examples" class="md-nav__link">
    <span class="md-ellipsis">
      8.5. TX Store Configuration Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#86-subtree-store-configuration-examples" class="md-nav__link">
    <span class="md-ellipsis">
      8.6. SubTree Store Configuration Examples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#87-configuration-interactions" class="md-nav__link">
    <span class="md-ellipsis">
      8.7. Configuration Interactions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.7. Configuration Interactions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#871-storage-backend-selection" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.1. Storage Backend Selection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#872-batching-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.2. Batching Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#873-delete-at-height-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.3. Delete-At-Height Functionality
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#874-block-height-retention" class="md-nav__link">
    <span class="md-ellipsis">
      8.7.4. Block Height Retention
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-other-resources" class="md-nav__link">
    <span class="md-ellipsis">
      9. Other Resources
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="blob-server"> Blob Server</h1>
<h2 id="index">Index</h2>
<ul>
<li><a href="#-blob-server"> Blob Server</a><ul>
<li><a href="#index">Index</a></li>
</ul>
</li>
<li><a href="#1-description">1. Description</a></li>
<li><a href="#2-architecture">2. Architecture</a></li>
<li><a href="#3-technology">3. Technology</a><ul>
<li><a href="#31-overview">3.1 Overview</a></li>
<li><a href="#32-store-options">3.2 Store Options</a></li>
<li><a href="#33-concurrent-access-patterns">3.3 Concurrent Access Patterns</a></li>
<li><a href="#34-http-rest-api-server">3.4 HTTP REST API Server</a></li>
</ul>
</li>
<li><a href="#4-data-model">4. Data Model</a></li>
<li><a href="#5-use-cases">5. Use Cases</a><ul>
<li><a href="#51-asset-server-http-get-transactions">5.1. Asset Server (HTTP): Get Transactions</a></li>
<li><a href="#52-asset-server-http-get-subtrees">5.2. Asset Server (HTTP): Get Subtrees</a></li>
<li><a href="#53-block-assembly">5.3. Block Assembly</a></li>
<li><a href="#54-block-validation">5.4. Block Validation</a></li>
<li><a href="#55-propagation-txstore-set">5.5 Propagation: TXStore Set()</a></li>
</ul>
</li>
<li><a href="#6-directory-structure-and-main-files">6. Directory Structure and Main Files</a></li>
<li><a href="#7-locally-running-the-store">7. Locally Running the store</a></li>
<li><a href="#8-configuration-options">8. Configuration Options</a><ul>
<li><a href="#81-url-format">8.1. URL Format</a></li>
<li><a href="#82-store-url-settings">8.2. Store URL Settings</a></li>
<li><a href="#821-common-url-parameters">8.2.1. Common URL Parameters</a></li>
<li><a href="#822-file-backend-parameters">8.2.2. File Backend Parameters</a></li>
<li><a href="#823-s3-backend-parameters">8.2.3. S3 Backend Parameters</a></li>
<li><a href="#824-http-backend-parameters">8.2.4. HTTP Backend Parameters</a></li>
<li><a href="#83-store-options">8.3. Store Options</a></li>
<li><a href="#84-file-operation-options">8.4. File Operation Options</a></li>
<li><a href="#85-tx-store-configuration-examples">8.5. TX Store Configuration Examples</a></li>
<li><a href="#86-subtree-store-configuration-examples">8.6. SubTree Store Configuration Examples</a></li>
<li><a href="#87-configuration-interactions">8.7. Configuration Interactions</a></li>
</ul>
</li>
<li><a href="#9-other-resources">9. Other Resources</a></li>
</ul>
<h2 id="1-description">1. Description</h2>
<p>The Blob Server is a generic datastore that can be used for any specific data model. In the current Teranode implementation, it is used to store transactions (extended tx) and subtrees.</p>
<p>The Blob Server provides a set of methods to interact with the TX and Subtree storage implementations.</p>
<ol>
<li>
<p><strong>Health</strong>: <code>Health(ctx)</code></p>
<ul>
<li><strong>Purpose</strong>: Checks the health status of the Blob Server.</li>
</ul>
</li>
<li>
<p><strong>Exists</strong>: <code>Exists(ctx, key)</code></p>
<ul>
<li><strong>Purpose</strong>: Determines if a given key exists in the store.</li>
</ul>
</li>
<li>
<p><strong>Get</strong>: <code>Get(ctx, key)</code></p>
<ul>
<li><strong>Purpose</strong>: Retrieves the value associated with a given key.</li>
</ul>
</li>
<li>
<p><strong>GetIoReader</strong>: <code>GetIoReader(ctx, key)</code></p>
<ul>
<li><strong>Purpose</strong>: Retrieves an <code>io.ReadCloser</code> for the value associated with a given key, useful for streaming large data.</li>
</ul>
</li>
<li>
<p><strong>Set</strong>: <code>Set(ctx, key, value, opts...)</code></p>
<ul>
<li><strong>Purpose</strong>: Sets a key-value pair in the store.</li>
</ul>
</li>
<li>
<p><strong>SetFromReader</strong>: <code>SetFromReader(ctx, key, value, opts...)</code></p>
<ul>
<li><strong>Purpose</strong>: Sets a key-value pair in the store from an <code>io.ReadCloser</code>, useful for streaming large data.</li>
</ul>
</li>
<li>
<p><strong>SetTTL</strong>: <code>SetTTL(ctx, key, ttl)</code></p>
<ul>
<li><strong>Purpose</strong>: Sets a Time-To-Live for a given key.</li>
</ul>
</li>
<li>
<p><strong>Del</strong>: <code>Del(ctx, key)</code></p>
<ul>
<li><strong>Purpose</strong>: Deletes a key and its associated value from the store.</li>
</ul>
</li>
<li>
<p><strong>Close</strong>: <code>Close(ctx)</code></p>
<ul>
<li><strong>Purpose</strong>: Closes the Blob Server connection or any associated resources.</li>
</ul>
</li>
</ol>
<h2 id="2-architecture">2. Architecture</h2>
<p>The Blob Server is a store interface, with implementations for Tx Store and Subtree Store.</p>
<p><img alt="Blob_Store_Component_Context_Diagram.png" src="../../services/img/Blob_Store_Component_Context_Diagram.png" /></p>
<p>The Blob Server implementations for Tx Store and Subtree Store are injected into the various services that require them. They are initialised in the <code>daemon/daemon_stores.go</code> file and passed into the services as a dependency. See below:</p>
<div class="highlight"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">getTxStore</span><span class="p">(</span><span class="nx">logger</span><span class="w"> </span><span class="nx">ulogger</span><span class="p">.</span><span class="nx">Logger</span><span class="p">)</span><span class="w"> </span><span class="nx">blob</span><span class="p">.</span><span class="nx">Store</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">txStore</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">txStore</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">txStoreUrl</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">found</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">gocore</span><span class="p">.</span><span class="nx">Config</span><span class="p">().</span><span class="nx">GetURL</span><span class="p">(</span><span class="s">&quot;txstore&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">found</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="s">&quot;txstore config not found&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">txStore</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">blob</span><span class="p">.</span><span class="nx">NewStore</span><span class="p">(</span><span class="nx">logger</span><span class="p">,</span><span class="w"> </span><span class="nx">txStoreUrl</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">WithHashPrefix</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">txStore</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">getSubtreeStore</span><span class="p">(</span><span class="nx">logger</span><span class="w"> </span><span class="nx">ulogger</span><span class="p">.</span><span class="nx">Logger</span><span class="p">)</span><span class="w"> </span><span class="nx">blob</span><span class="p">.</span><span class="nx">Store</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">subtreeStore</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">subtreeStore</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nx">subtreeStoreUrl</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">found</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">gocore</span><span class="p">.</span><span class="nx">Config</span><span class="p">().</span><span class="nx">GetURL</span><span class="p">(</span><span class="s">&quot;subtreestore&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">!</span><span class="nx">found</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="s">&quot;subtreestore config not found&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">subtreeStore</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">blob</span><span class="p">.</span><span class="nx">NewStore</span><span class="p">(</span><span class="nx">logger</span><span class="p">,</span><span class="w"> </span><span class="nx">subtreeStoreUrl</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="p">.</span><span class="nx">WithHashPrefix</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">nil</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">panic</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">subtreeStore</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="3-technology">3. Technology</h2>
<h3 id="31-overview">3.1 Overview</h3>
<p>Key technologies involved:</p>
<ol>
<li>
<p><strong>Go Programming Language (Golang)</strong>:</p>
<ul>
<li>A statically typed, compiled language known for its simplicity and efficiency, especially in concurrent operations and networked services.</li>
<li>The primary language used for implementing the service's logic.</li>
</ul>
</li>
</ol>
<h3 id="32-store-options">3.2 Store Options</h3>
<p>The Blob Server supports various backends, each suited to different storage requirements and environments.</p>
<ul>
<li>
<p><strong>Batcher</strong>: Provides batch processing capabilities for storage operations.</p>
</li>
<li>
<p><strong>File</strong>: Utilizes the local file system for storage.</p>
</li>
<li>
<p><strong>HTTP</strong>: Implements an HTTP client for interacting with a remote blob storage server.</p>
</li>
<li>
<p><strong>Local TTL</strong>: Provides local Time-to-Live (TTL) functionality for managing data expiration.</p>
</li>
<li>
<p><strong>Memory</strong>: In-memory storage for temporary and fast data access.</p>
</li>
<li>
<p><strong>Null</strong>: A no-operation store for testing or disabling storage features.</p>
</li>
<li>
<p><strong>Amazon S3</strong>: Integration with Amazon Simple Storage Service (S3) for cloud storage. <a href="https://aws.amazon.com/s3/">Amazon S3</a></p>
</li>
</ul>
<p>Each store option is implemented in its respective subdirectory within the <code>stores/blob/</code> directory.</p>
<p>The system also includes a main server implementation (<code>server.go</code>) that provides an HTTP interface for blob storage operations.</p>
<p>Options for configuring these stores are managed through the <code>options</code> package.</p>
<h3 id="33-concurrent-access-patterns">3.3 Concurrent Access Patterns</h3>
<p>The Blob Server includes a <code>ConcurrentBlob</code> implementation that provides thread-safe access to blob storage operations with optimized concurrent access patterns. This feature is particularly important in high-concurrency environments where the same blob might be requested multiple times simultaneously.</p>
<h4 id="key-features">Key Features:</h4>
<ul>
<li><strong>Double-Checked Locking Pattern</strong>: Ensures that only one fetch operation occurs at a time for each unique key, while allowing concurrent operations on different keys</li>
<li><strong>Generic Type Support</strong>: Parametrized by a key type K that must satisfy <code>chainhash.Hash</code> constraints for type-safe handling</li>
<li><strong>Duplicate Operation Prevention</strong>: Avoids duplicate network or disk operations when multiple goroutines request the same blob simultaneously</li>
<li><strong>Efficient Resource Usage</strong>: Other goroutines wait for completion rather than duplicating work</li>
</ul>
<h4 id="usage-pattern">Usage Pattern:</h4>
<div class="highlight"><pre><span></span><code><span class="c1">// Create a concurrent blob instance</span>
<span class="nx">concurrentBlob</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">blob</span><span class="p">.</span><span class="nx">NewConcurrentBlob</span><span class="p">[</span><span class="nx">chainhash</span><span class="p">.</span><span class="nx">Hash</span><span class="p">](</span><span class="nx">blobStore</span><span class="p">,</span><span class="w"> </span><span class="nx">options</span><span class="o">...</span><span class="p">)</span>

<span class="c1">// Get a blob with automatic fetching if not present</span>
<span class="nx">reader</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">concurrentBlob</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">fileType</span><span class="p">,</span><span class="w"> </span><span class="kd">func</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="nx">io</span><span class="p">.</span><span class="nx">ReadCloser</span><span class="p">,</span><span class="w"> </span><span class="kt">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// This function is called only if the blob doesn&#39;t exist</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">fetchBlobFromSource</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div>
<p>The <code>ConcurrentBlob</code> wrapper is particularly useful for services that need to fetch the same data concurrently, such as block validation or transaction processing services.</p>
<h3 id="34-http-rest-api-server">3.4 HTTP REST API Server</h3>
<p>The Blob Server includes a comprehensive HTTP REST API server implementation (<code>HTTPBlobServer</code>) that provides full HTTP access to blob storage operations. This server implements the standard <code>http.Handler</code> interface and can be easily integrated into existing HTTP server infrastructure.</p>
<h4 id="supported-http-endpoints">Supported HTTP Endpoints:</h4>
<ul>
<li><strong>GET /health</strong>: Health check endpoint returning server status</li>
<li><strong>GET /{key}</strong>: Retrieve blob by key with optional range support</li>
<li><strong>POST /{key}</strong>: Store new blob data</li>
<li><strong>PUT /{key}</strong>: Update existing blob data</li>
<li><strong>DELETE /{key}</strong>: Delete blob by key</li>
<li><strong>GET /{key}/dah</strong>: Get Delete-At-Height information for a blob</li>
<li><strong>POST /{key}/dah</strong>: Set Delete-At-Height for a blob</li>
</ul>
<h4 id="usage-example">Usage Example:</h4>
<div class="highlight"><pre><span></span><code><span class="c1">// Create HTTP blob server</span>
<span class="nx">httpServer</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">blob</span><span class="p">.</span><span class="nx">NewHTTPBlobServer</span><span class="p">(</span><span class="nx">blobStore</span><span class="p">,</span><span class="w"> </span><span class="nx">logger</span><span class="p">)</span>

<span class="c1">// Start HTTP server</span>
<span class="nx">http</span><span class="p">.</span><span class="nx">Handle</span><span class="p">(</span><span class="s">&quot;/blob/&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">StripPrefix</span><span class="p">(</span><span class="s">&quot;/blob&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">httpServer</span><span class="p">))</span>
<span class="nx">log</span><span class="p">.</span><span class="nx">Fatal</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">ListenAndServe</span><span class="p">(</span><span class="s">&quot;:8080&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">nil</span><span class="p">))</span>
</code></pre></div>
<p>The HTTP server is particularly useful for external integrations, debugging, and providing web-based access to blob storage functionality.</p>
<h2 id="4-data-model">4. Data Model</h2>
<ul>
<li>
<p><a href="../../datamodel/subtree_data_model/">Subtree Data Model</a>: Contain lists of transaction IDs and their Merkle root.</p>
</li>
<li>
<p><a href="../../datamodel/transaction_data_model/">Extended Transaction Data Model</a>: Include additional metadata to facilitate processing.</p>
</li>
</ul>
<h2 id="5-use-cases">5. Use Cases</h2>
<h3 id="51-asset-server-http-get-transactions">5.1. Asset Server (HTTP): Get Transactions</h3>
<p><img alt="asset_server_http_get_transaction.svg" src="../../services/img/plantuml/assetserver/asset_server_http_get_transaction.svg" /></p>
<h3 id="52-asset-server-http-get-subtrees">5.2. Asset Server (HTTP): Get Subtrees</h3>
<p><img alt="asset_server_http_get_subtree.svg" src="../../services/img/plantuml/assetserver/asset_server_http_get_subtree.svg" /></p>
<h3 id="53-block-assembly">5.3. Block Assembly</h3>
<p>New Subtree and block mining scenarios:</p>
<p><img alt="blob_server_block_assembly.svg" src="../../services/img/plantuml/blobserver/blob_server_block_assembly.svg" /></p>
<p>Reorganizing subtrees:</p>
<p><img alt="asset_server_grpc_get_subtree.svg" src="../../services/img/plantuml/assetserver/asset_server_grpc_get_subtree.svg" /></p>
<h3 id="54-block-validation">5.4. Block Validation</h3>
<p>Service:</p>
<p><img alt="blob_server_block_validation.svg" src="../../services/img/plantuml/blobserver/blob_server_block_validation.svg" /></p>
<p>gRPC endpoints:</p>
<p><img alt="blob_server_block_validation_addendum.svg" src="../../services/img/plantuml/blobserver/blob_server_block_validation_addendum.svg" /></p>
<h3 id="55-propagation-txstore-set">5.5 Propagation: TXStore Set()</h3>
<p><img alt="txStore_propagation_set.svg" src="../../services/img/plantuml/assetserver/txStore_propagation_set.svg" /></p>
<h2 id="6-directory-structure-and-main-files">6. Directory Structure and Main Files</h2>
<div class="highlight"><pre><span></span><code>./stores/blob/
 Interface.go                # Interface definitions for the project.
 batcher                     # Batching functionality for efficient processing.
    batcher.go              # Main batcher functionality.
 factory.go                  # Factory methods for creating instances.
 file                        # File system based implementations.
    file.go                 # File system handling.
    file_test.go            # Test cases for file system functions.
 http                        # HTTP client implementation for remote blob storage.
    http.go                 # HTTP specific functionality.
 localttl                    # Local Time-to-Live functionality.
    localttl.go             # Local TTL handling.
 memory                      # In-memory implementation.
    memory.go               # In-memory data handling.
 null                        # Null implementation (no-op).
    null.go                 # Null pattern implementation.
 options                     # Options and configurations.
    Options.go              # General options for the project.
    Options_test.go         # Test cases for options.
 s3                          # Amazon S3 cloud storage implementation.
    s3.go                   # S3 specific functionality.
 server.go                   # HTTP server implementation for blob storage.
 server_test.go              # Test cases for the server implementation.
</code></pre></div>
<h2 id="7-locally-running-the-store">7. Locally Running the store</h2>
<p>The Blob Server cannot be run independently. It is instantiated as part of the main.go initialization and directly used by the services that require it.</p>
<h2 id="8-configuration-options">8. Configuration Options</h2>
<p>The Blob Server can be configured through URL-based settings and option parameters. This section provides a comprehensive reference for all configuration options.</p>
<h3 id="81-url-format">8.1. URL Format</h3>
<p>Blob store configurations use URLs that follow this general structure:</p>
<div class="highlight"><pre><span></span><code>&lt;scheme&gt;://&lt;path&gt;[?&lt;parameter1&gt;=&lt;value1&gt;&amp;&lt;parameter2&gt;=&lt;value2&gt;...]
</code></pre></div>
<p>Components:</p>
<ul>
<li><strong>Scheme</strong>: Determines the storage backend type (file, memory, s3, http, null)</li>
<li><strong>Path</strong>: Specifies the storage location or identifier</li>
<li><strong>Parameters</strong>: Optional query parameters that modify behavior</li>
</ul>
<h3 id="82-store-url-settings">8.2. Store URL Settings</h3>
<h4 id="821-common-url-parameters">8.2.1. Common URL Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>batch</code></td>
<td>Boolean</td>
<td>false</td>
<td>Enables batch operations</td>
<td>Improves performance by batching operations</td>
</tr>
<tr>
<td><code>sizeInBytes</code></td>
<td>Integer</td>
<td>4194304</td>
<td>Maximum batch size in bytes (4MB default)</td>
<td>Controls batch size; larger values increase throughput but use more memory</td>
</tr>
<tr>
<td><code>writeKeys</code></td>
<td>Boolean</td>
<td>false</td>
<td>Whether to write keys along with blob data</td>
<td>Enables key storage alongside blob content</td>
</tr>
<tr>
<td><code>batch_size</code></td>
<td>Integer</td>
<td>1000</td>
<td>Maximum items in a batch</td>
<td>Controls batch size; larger values increase throughput but use more memory</td>
</tr>
<tr>
<td><code>batch_duration</code></td>
<td>Integer (ms)</td>
<td>50</td>
<td>Maximum time before processing a batch</td>
<td>Balances throughput vs. latency</td>
</tr>
<tr>
<td><code>localDAHStore</code></td>
<td>String</td>
<td>""</td>
<td>Path to local DAH store for Delete-At-Height functionality</td>
<td>Enables automatic expiry of data based on blockchain height</td>
</tr>
<tr>
<td><code>localDAHStorePath</code></td>
<td>String</td>
<td>"./"</td>
<td>Path for local DAH store metadata</td>
<td>Directory for DAH metadata storage</td>
</tr>
<tr>
<td><code>logger</code></td>
<td>Boolean</td>
<td>false</td>
<td>Enables debug logging for all blob operations</td>
<td>Adds detailed logging for troubleshooting</td>
</tr>
</tbody>
</table>
<h4 id="822-file-backend-parameters">8.2.2. File Backend Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path component</td>
<td>String</td>
<td>None (required)</td>
<td>Base directory for file storage</td>
</tr>
<tr>
<td><code>dahCleanerInterval</code></td>
<td>Duration</td>
<td>"1m"</td>
<td>Frequency of expired blob cleanup operations</td>
</tr>
<tr>
<td><code>header</code></td>
<td>String</td>
<td>""</td>
<td>Custom header prepended to all stored blobs</td>
</tr>
<tr>
<td><code>eofmarker</code></td>
<td>String</td>
<td>""</td>
<td>Custom footer appended to all stored blobs</td>
</tr>
</tbody>
</table>
<h4 id="823-s3-backend-parameters">8.2.3. S3 Backend Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Path component</td>
<td>String</td>
<td>None (required)</td>
<td>S3 bucket name</td>
</tr>
<tr>
<td><code>region</code></td>
<td>String</td>
<td>"us-east-1"</td>
<td>AWS region for S3 bucket</td>
</tr>
<tr>
<td><code>endpoint</code></td>
<td>String</td>
<td>AWS S3 endpoint</td>
<td>Custom endpoint for S3-compatible storage</td>
</tr>
<tr>
<td><code>forcePathStyle</code></td>
<td>Boolean</td>
<td>false</td>
<td>Force path-style addressing</td>
</tr>
<tr>
<td><code>subDirectory</code></td>
<td>String</td>
<td>""</td>
<td>S3 object key prefix for organization</td>
</tr>
<tr>
<td><code>MaxIdleConns</code></td>
<td>Integer</td>
<td>100</td>
<td>Maximum number of idle HTTP connections</td>
</tr>
<tr>
<td><code>MaxIdleConnsPerHost</code></td>
<td>Integer</td>
<td>100</td>
<td>Maximum idle connections per host</td>
</tr>
<tr>
<td><code>IdleConnTimeoutSeconds</code></td>
<td>Integer</td>
<td>100</td>
<td>Idle connection timeout in seconds</td>
</tr>
<tr>
<td><code>TimeoutSeconds</code></td>
<td>Integer</td>
<td>30</td>
<td>Request timeout for S3 operations</td>
</tr>
<tr>
<td><code>KeepAliveSeconds</code></td>
<td>Integer</td>
<td>300</td>
<td>Connection keep-alive duration</td>
</tr>
</tbody>
</table>
<h4 id="824-http-backend-parameters">8.2.4. HTTP Backend Parameters</h4>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Host+Path</td>
<td>String</td>
<td>None (required)</td>
<td>Remote HTTP blob server endpoint</td>
</tr>
<tr>
<td><code>timeout</code></td>
<td>Integer (ms)</td>
<td>30000</td>
<td>HTTP request timeout</td>
</tr>
</tbody>
</table>
<h3 id="83-store-options">8.3. Store Options</h3>
<p>Additional configuration is provided through Store Options when creating a store:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>WithDefaultBlockHeightRetention</code></td>
<td>uint32</td>
<td>Sets block height retention</td>
<td>Controls automatic deletion after specified blockchain height</td>
</tr>
<tr>
<td><code>WithDefaultSubDirectory</code></td>
<td>String</td>
<td>Sets subdirectory within main path</td>
<td>Organizes data in storage hierarchy</td>
</tr>
<tr>
<td><code>WithHashPrefix</code></td>
<td>Integer</td>
<td>Number of characters from hash to use in filenames</td>
<td>Improves file organization and lookup performance</td>
</tr>
<tr>
<td><code>WithSHA256Checksum</code></td>
<td>Boolean</td>
<td>Enables SHA256 checksum generation</td>
<td>Adds data integrity verification</td>
</tr>
<tr>
<td><code>WithLongtermStorage</code></td>
<td>String, URL</td>
<td>Configures persistent storage options</td>
<td>Enables three-tier storage (memory, local, longterm)</td>
</tr>
</tbody>
</table>
<h3 id="84-file-operation-options">8.4. File Operation Options</h3>
<p>These options can be specified per operation:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Description</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>WithDeleteAt</code></td>
<td>uint32</td>
<td>Sets blockchain height for automatic deletion</td>
<td>Controls per-file data retention</td>
</tr>
<tr>
<td><code>WithFilename</code></td>
<td>String</td>
<td>Sets specific filename</td>
<td>Overrides default hash-based naming</td>
</tr>
<tr>
<td><code>WithFileExtension</code></td>
<td>String</td>
<td>Sets file extension</td>
<td>Useful for identifying file types</td>
</tr>
<tr>
<td><code>WithAllowOverwrite</code></td>
<td>Boolean</td>
<td>Controls overwriting of existing files</td>
<td>Prevents accidental data loss when false</td>
</tr>
</tbody>
</table>
<h3 id="85-tx-store-configuration-examples">8.5. TX Store Configuration Examples</h3>
<ul>
<li>
<p><strong>Null Store (No-op)</strong>
  <div class="highlight"><pre><span></span><code>txstore.${YOUR_USERNAME}=null:///
</code></pre></div></p>
</li>
<li>
<p><strong>Amazon S3</strong>
  <div class="highlight"><pre><span></span><code>txstore.${YOUR_USERNAME}=s3:///mytxstore?region=eu-west-1&amp;batch=true&amp;batch_size=2000&amp;batch_duration=100
</code></pre></div></p>
</li>
<li>
<p><strong>File System with DAH</strong>
  <div class="highlight"><pre><span></span><code>txstore.${YOUR_USERNAME}=file:///data/txstore?batch=true&amp;localDAHStore=true&amp;localDAHStorePath=/data/txstore-dah
</code></pre></div></p>
</li>
<li>
<p><strong>Memory Store</strong>
  <div class="highlight"><pre><span></span><code>txstore.${YOUR_USERNAME}=memory:///
</code></pre></div></p>
</li>
</ul>
<h3 id="86-subtree-store-configuration-examples">8.6. SubTree Store Configuration Examples</h3>
<ul>
<li>
<p><strong>Null Store (No-op)</strong>
  <div class="highlight"><pre><span></span><code>subtreestore.${YOUR_USERNAME}=null:///
</code></pre></div></p>
</li>
<li>
<p><strong>Amazon S3 with Local DAH Store</strong>
  <div class="highlight"><pre><span></span><code>subtreestore.${YOUR_USERNAME}=s3:///subtreestore?region=eu-west-1&amp;localDAHStore=true&amp;localDAHStorePath=/data/subtreestore-dah
</code></pre></div></p>
</li>
<li>
<p><strong>File System with Local DAH Store</strong>
  <div class="highlight"><pre><span></span><code>subtreestore.${YOUR_USERNAME}=file:///data/subtreestore?localDAHStore=true&amp;localDAHStorePath=./data/subtreestore-dah
</code></pre></div></p>
</li>
<li>
<p><strong>Memory Store</strong>
  <div class="highlight"><pre><span></span><code>subtreestore.${YOUR_USERNAME}=memory:///
</code></pre></div></p>
</li>
</ul>
<h3 id="87-configuration-interactions">8.7. Configuration Interactions</h3>
<h4 id="871-storage-backend-selection">8.7.1. Storage Backend Selection</h4>
<p>The URL scheme determines which backend is used, which in turn determines which parameters are relevant. For example, <code>region</code> is only relevant for S3 storage.</p>
<h4 id="872-batching-configuration">8.7.2. Batching Configuration</h4>
<p>When batching is enabled (<code>batch=true</code>), the <code>batch_size</code> and <code>batch_duration</code> parameters control batch behavior. Operations are batched until either the size limit is reached or the duration expires, whichever happens first.</p>
<h4 id="873-delete-at-height-functionality">8.7.3. Delete-At-Height Functionality</h4>
<p>When <code>localDAHStore</code> is enabled, the store maintains metadata about when items should be deleted based on blockchain height. This metadata is stored at the path specified by <code>localDAHStorePath</code>. Individual files can set their own DAH values using the <code>WithDeleteAt</code> option.</p>
<h4 id="874-block-height-retention">8.7.4. Block Height Retention</h4>
<p>The <code>BlockHeightRetention</code> setting (via <code>WithDefaultBlockHeightRetention</code>) interacts with the <code>DAH</code> setting (via <code>WithDeleteAt</code>). The store-level setting provides a default, while the file-level setting allows per-file control.</p>
<h2 id="9-other-resources">9. Other Resources</h2>
<p><a href="../../../references/stores/blob_reference/">Blob Server Reference</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2025 BSV Blockchain Org.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/bitcoin-sv/teranode" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.instant", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>
      
    
  </body>
</html>